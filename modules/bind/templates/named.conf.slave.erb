# AUTOGENERATED BY PUPPET
# All manual changes will be overwritten
#
# Puppet generated configuration file
# See the named.conf(5) manpage for details

<% @private_zones.each do |private_zone| -%>
zone "<%= private_zone -%>"
{
    type slave;
    masters { 77.80.254.5; };
    file "<%= @slave_zone_cfg %>/db.<%= private_zone %>";
    allow-query { trusted-clients; };
};

<% end -%>

<% @zones.each do |zone| -%>
zone "<%= zone -%>"
{
    type slave;
    masters { 77.80.254.5; };
    file "<%= @slave_zone_cfg %>/db.<%= zone %>";
<% if @role == 'resolver' -%>
    allow-query { clients; };
<% end -%>
};

<% end -%>
