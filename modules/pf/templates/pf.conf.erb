# AUTOGENERATED BY PUPPET
# All manual changes will be overwritten
#
# Puppet generated configuration file
# See the pf.conf(5) manpage for details

# Don't filter localhost traffic
set skip on lo

# Block and log everything by default
block log all

# Allow all outbound traffic
pass out

# Allow ICMP echo request and echo reply
pass in inet proto icmp from any to self icmp-type echoreq
pass in inet proto icmp from any to self icmp-type echorep

# Allow ICMPv6 from everyone
pass in inet6 proto icmp6 from any to self

# IPv4 rules
<% @rules['v4'].each do |rule| -%>
# <%= rule['name'] %>
pass in inet proto <%= rule['proto'] %> from <%= rule['src'] %> to self port <%= rule['dports'] %>
<% end -%>

# IPv6 rules
<% @rules['v6'].each do |rule| -%>
# <%= rule['name'] %>
pass in inet6 proto <%= rule['proto'] %> from <%= rule['src'] %> to self port <%= rule['dports'] %>
<% end -%>
